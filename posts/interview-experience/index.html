<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>pdebashis/posts/interview-experience/</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="all,follow">
    <meta name="googlebot" content="index,follow,snippet,archive">
    <link rel="stylesheet" href="https://pdebashis.github.io/hugo-theme-console/css/terminal-0.7.2.min.css">
    <link rel="stylesheet" href="https://pdebashis.github.io/hugo-theme-console/css/animate-4.1.1.min.css">
    <link rel="stylesheet" href="https://pdebashis.github.io/hugo-theme-console/css/console.css">
    
      <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
      <![endif]-->
       <meta property="og:title" content="A Scala Interview" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://pdebashis.github.io/posts/interview-experience/" /><meta property="article:published_time" content="2024-09-29T01:02:26+05:30" />



<meta name="twitter:title" content="A Scala Interview"/>
<meta name="twitter:description" content="This was a coding interview in Scala. The problem statement was a simple one :
Input = List(10, 10, 10, 10, 20, 30, 30, 10, 10, 40, 50, 50, 50, 50)Output = List(10, 20, 30, 10, 40, 50)Kindly eliminate the consecutive duplicates of the elements contained within this list.Approach 1
My first thought was to implement a temp variable based solution - introduce a &ldquo;memory&rdquo; element which keeps updating when encountering a new number and I ended up writing the below code -"/>

</head>
<body class="terminal">
    <div class="container">
        <div class="terminal-nav">
          <header class="terminal-logo">
            <div class="logo terminal-prompt">
              
              
              <a href="https://pdebashis.github.io/" class="no-style site-name">pdebashis</a>:~# 
              <a href='https://pdebashis.github.io/posts'>posts</a>/<a href='https://pdebashis.github.io/posts/interview-experience'>interview-experience</a>/</div></header>
          <nav class="terminal-menu">
            <ul vocab="https://schema.org/" typeof="BreadcrumbList">
                
                <li><a href="https://pdebashis.github.io/about/" typeof="ListItem">about/</a></li>
                
                <li><a href="https://pdebashis.github.io/posts/" typeof="ListItem">blog/</a></li>
                
                <li><a href="https://pdebashis.github.io/photos/" typeof="ListItem">photos/</a></li>
                
            </ul>
          </nav>
        </div>
    </div>

    <div class="container animated zoomIn fast" >
        
<h1>A Scala Interview</h1>

Sep. 29, 2024


<br/><br/>
<p>This was a coding interview in Scala. The problem statement was a simple one :</p>
<pre><code>Input = List(10, 10, 10, 10, 20, 30, 30, 10, 10, 40, 50, 50, 50, 50)
Output = List(10, 20, 30, 10, 40, 50)
Kindly eliminate the consecutive duplicates of the elements contained within this list.
</code></pre>
<p><em>Approach 1</em></p>
<p>My first thought was to implement a temp variable based solution - introduce a &ldquo;memory&rdquo; element which keeps updating when encountering a new number and I ended up writing the below code -</p>
<pre><code>val input = List(10, 10, 10, 10, 20, 30, 30, 10, 10, 40, 50, 50, 50, 50)
var memory = -1
val output = input.map(elem =&gt; { 
   if (elem != memory)
          elem
   if (elem != memory)
          memory = elem
  })
</code></pre>
<p>This was giving me a list of empty values as the output list.</p>
<pre><code>    List((), (), (), (), (), (), (), (), (), (), (), (), (), ())
</code></pre>
<p>On Retrospection with ChatGPT, I realized how out of touch i was with realizing my logic into scala code. Two very basic problems exist in my logic :</p>
<ul>
<li>Lack of return in map: I was trying to return the elements if they satisfied the criteria of not matching the memory element. And I also wanted to update the memory element. But my map had no explicit return value for each element and it never went inside the if statement which updates the memory. So the map was implicitly returning Unit (essentially null in Scala), which is why my new_list only contained Unit instead of any values.</li>
<li>Missing else clause: I had a logic to follow if elem != memory, but there&rsquo;s no else case for when elem == memory. I didnt even notice during the call that (elem != memory) is checked twice.</li>
</ul>
<p>If I wanted to use this approach using map and a memory variable(var), the correct version would have been -</p>
<pre><code>val output = input.map(elem =&gt; { 
     if (elem != memory){
            memory = elem
            Some(elem)
     }else{
            None
    }
    }).flatten
</code></pre>
<p>During the interview, I tried a different approach instead.</p>
<p><em>Approach 2</em></p>
<p>I thought of going with a For loop. I started with a list variable, which was to be updated in each loop. But I couldnt get the list append syntax to work. The interviewer also didnt offer to help. While I was using the :: operator, I was writing it in reverse order. Its the prepend operator, so I should have tried :+ in my approach.</p>
<p>I ended up printing out the result list directly.</p>
<pre><code>def keepElement(curr: Int, prev:Int) :String = {
  if(curr != prev)
    return curr.toString
  else
    return &quot;&quot; 
}

for ( i &lt;- 0 to input.size - 1) { 
  if(i == 0){
    println(input(i))
  }
  else{
    println(keepElement(input(i), input(i-1)))
  }
}
</code></pre>
<p>This time I did get the correct output but the solution was dirty. The output was not stored in a list and was getting printed out.</p>
<pre><code>[10



20
30

10

40
50


]
</code></pre>
<p>The solution was also not pure scala. The method I defined could have been done inline. But thats just how the mind works when an interview is going badly. Anyway, the correct syntax would have been -</p>
<p>var output = List<a href="">Int</a>
output = output :+ input(0)</p>
<pre><code>for( i &lt;- 1 until input.length){
  if(input(i) != input(i-1)) {
    output = output :+ input(i)
  }
}
</code></pre>
<p>It took me 30 mins to compile and run my 2 attempts and the interviewer was done. When I asked for the solution, he mentioned foldLeft and head method of List. I looked it up after the call. The correct way to do it was only a few lines as below -</p>
<pre><code>val output = input.foldRight(List[Int]()) { (cur, res) =&gt;
       if (res.isEmpty || res.head != cur) cur, :: res
       else res
}</code></pre>



        <div class="footer">
    Powered by <a href="https://gohugo.io/">Hugo</a> with
    <a href="https://github.com/mrmierzejewski/hugo-theme-console/">Console Theme</a>. 
</div>

    </div>
  </body>
</html>
