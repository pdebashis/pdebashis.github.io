<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>pdebashis.com/posts/kafka/</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="all,follow">
    <meta name="googlebot" content="index,follow,snippet,archive">
    <link rel="stylesheet" href="https://pdebashis.github.io/hugo-theme-console/css/terminal-0.7.1.min.css">
    <link rel="stylesheet" href="https://pdebashis.github.io/hugo-theme-console/css/animate-3.7.2.min.css">
    <link rel="stylesheet" href="https://pdebashis.github.io/hugo-theme-console/css/console.css">
    
      <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
      <![endif]-->
       <meta property="og:title" content="Quick Notes : Kafka" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://pdebashis.github.io/posts/kafka/" /><meta property="article:published_time" content="2021-06-12T17:59:25+05:30" />



<meta name="twitter:title" content="Quick Notes : Kafka"/>
<meta name="twitter:description" content="Introduction Consumer Subscribe to a topic and pull messages
Producer Send a message record to a topic
Topic Has a consumer instance
Topic Partition Have individual consumer instance
leader is the node responsible for all reads and writes for the given partition. Each node will be the leader for a randomly selected portion of the partitions.
replicas is the list of nodes that replicate the log for this partition regardless of whether they are the leader or even if they are currently alive."/>

</head>
<body class="terminal">
    <div class="container">
        <div class="terminal-nav">
          <header class="terminal-logo">
            <div class="logo terminal-prompt">
              
              
              <a href="https://pdebashis.github.io/" class="no-style site-name">pdebashis.com</a>:~# 
              <a href='https://pdebashis.github.io/posts'>posts</a>/<a href='https://pdebashis.github.io/posts/kafka'>kafka</a>/</div></header>
          <nav class="terminal-menu">
            <ul vocab="https://schema.org/" typeof="BreadcrumbList">
                
                <li><a href="https://pdebashis.github.io/about/" typeof="ListItem">about/</a></li>
                
                <li><a href="https://pdebashis.github.io/posts/" typeof="ListItem">blog/</a></li>
                
                <li><a href="https://pdebashis.github.io/photos/" typeof="ListItem">photos/</a></li>
                
            </ul>
          </nav>
        </div>
    </div>

    <div class="container animated zoomIn fast" >
        
<h1>Quick Notes : Kafka</h1>

Jun. 12, 2021


<br/><br/>
<h1 id="introduction">Introduction</h1>
<p><strong>Consumer</strong>  Subscribe to a topic and pull messages</p>
<p><strong>Producer</strong> Send a message record to a topic</p>
<p><strong>Topic</strong> Has a consumer instance</p>
<p><strong>Topic Partition</strong> Have individual consumer instance</p>
<p><strong>leader</strong> is the node responsible for all reads and writes for the given partition. Each node will be the leader for a randomly selected portion of the partitions.</p>
<p><strong>replicas</strong> is the list of nodes that replicate the log for this partition regardless of whether they are the leader or even if they are currently alive.</p>
<p><strong>isr</strong> is the set of &ldquo;in-sync&rdquo; replicas. This is the subset of the replicas list that is currently alive and caught-up to the leader.</p>
<h1 id="startup">Startup</h1>
<p>Start zookeeper and kafka</p>
<p>Windows
.\bin\windows\zookeeper-server-start.bat .\config\zookeeper.properties
.\bin\windows\kafka-server-start.bat .\config\server.properties</p>
<p>Linux
bin/zookeeper-server-start.sh config/zookeeper.properties
bin/kafka-server-start.sh config/server.properties</p>
<h1 id="connectivity">Connectivity</h1>
<p>Kafka vendor to share details for Authentication based on the method proposed.</p>
<p>KafkaAccount Name
bootstrap.servers(IP:Port combination)
group.id with permission on required topics
TopicNames<br>
jaas.conf file
krb5.conf file
Keytab file</p>
<p>Consumer server ip&rsquo;s required for whitelisting against group id.</p>
<h1 id="kafka-apis">Kafka APIs</h1>
<p>Producer API – Permits an application to publish streams of records.</p>
<p>Consumer API – Permits an application to subscribe to topics and processes streams of records.</p>
<p>Connector API – Executes the reusable producer and consumer APIs that can link the topics to the existing applications.</p>
<p>Streams API – This API converts the input streams to output and produces the result.</p>
<h1 id="commands">Commands</h1>
<p>List topics</p>
<p>.\bin\windows\kafka-topics.bat &ndash;list &ndash;bootstrap-server localhost:9092</p>
<p>bin/kafka-topics.sh &ndash;list &ndash;bootstrap-server localhost:9092</p>
<p>Create Topic</p>
<p>.\bin\windows\kafka-topics.sh &ndash;create &ndash;bootstrap-server localhost:9092 &ndash;replication-factor 1 &ndash;partitions 1 &ndash;topic test</p>
<p>bin/kafka-topics.sh &ndash;create &ndash;bootstrap-server localhost:9092 &ndash;replication-factor 1 &ndash;partitions 3 &ndash;topic cms_cx_base_shared</p>
<p>Delete Topic</p>
<p>.\bin\windows\kafka-run-class.bat kafka.admin.TopicCommand &ndash;delete &ndash;topic test &ndash;zookeeper localhost:2181</p>
<p>bin/kafka-topics.sh &ndash;delete &ndash;topic cms_cx_base_shared &ndash;zookeeper localhost:2181</p>
<p>Produce and Consume</p>
<p>.\bin\windows\kafka-console-producer.sh &ndash;broker-list localhost:9092 &ndash;topic test</p>
<p>.\bin\windows\kafka-console-consumer.sh &ndash;bootstrap-server server1:9092 &ndash;topic test &ndash;from-beginning</p>
<p>bin/kafka-console-producer.sh &ndash;broker-list localhost:9092 &ndash;topic cms_cx_base_shared &ndash;property parse.key=true &ndash;property key.separator=&quot;|&quot;</p>
<p>bin/kafka-console-consumer.sh &ndash;bootstrap-server localhost:9092 &ndash;topic test &ndash;from-beginning</p>
<p>cat web.json | /home/ushas/adaptor/dialog/dialog/kafka_2.11-1.0.0/bin/kafka-console-producer.sh &ndash;broker-list localhost:9092 &ndash;topic pelatro &ndash;property &ldquo;parse.key=true&rdquo; &ndash;property &ldquo;key.separator=:&rdquo;</p>
<p>Describe Topics</p>
<p>.\bin\windows\kafka-topics.bat &ndash;describe &ndash;bootstrap-server localhost:9092 &ndash;topic my-replicated-topic</p>
<p>bin/kafka-topics.sh &ndash;describe &ndash;bootstrap-server localhost:9092 &ndash;topic cms_cx_base_shared</p>



        <div class="footer">
    Powered by <a href="https://gohugo.io/">Hugo</a> with
    <a href="https://github.com/mrmierzejewski/hugo-theme-console/">Console Theme</a>. 
</div>

    </div>
  </body>
</html>
